webpackJsonp([16],{D3kB:function(e,t){},DxIV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),i=s("bOdI"),l=s.n(i),o={name:"reg",data:function(){return l()({tableData:[],total:0,currentPage:1,pagesize:10,zoneList:[],lang:localStorage.lang,visible:!1,ruleForm:{address:"",chineseCode:"",contactUser:"",deviceDataReceiveUrl:"",email:"",engishCode:"",phone:"",platformAccount:"",useHttpsFlag:!1,usePlatformApiFlag:!1,zoneId:""},rules:{chineseCode:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-1"),trigger:"change"}],engishCode:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-2"),trigger:"change"}],platformAccount:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-4"),trigger:"change"}],contactUser:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-5"),trigger:"change"}],phone:[{required:!0,pattern:/^1[3|4|5|7|8][0-9]{9}$/,message:this.$t("message.register-18")+this.$t("message.register-6"),trigger:"change"}],url:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-10"),trigger:"change"}],email:[{required:!1,pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,message:this.$t("message.register-22"),trigger:"change"}],zoneId:[{required:!0,message:this.$t("message.historyalarm-0")+this.$t("message.register-12"),trigger:"change"}]}},"zoneList",[])},methods:{btnpassaudit:function(e,t){var s=this,r=this;this.$confirm(r.$t("message.devicecontrol-16"),r.$t("message.devicetype-7"),{confirmButtonText:r.$t("message.devicetype-8"),cancelButtonText:r.$t("message.devicetype-9"),type:"warning"}).then(function(){s.ajax(r.HOST+"/v1/app/customer/audit",{id:t.id,auditFlag:!0},function(e){0==e.data.errCode&&(r.$message({type:"success",message:r.$t("message.register-15")}),r.getList())})}).catch(function(){})},btnrejectaudit:function(e,t){var s=this,r=this;this.$confirm(r.$t("message.devicecontrol-16"),r.$t("message.devicetype-7"),{confirmButtonText:r.$t("message.devicetype-8"),cancelButtonText:r.$t("message.devicetype-9"),type:"warning"}).then(function(){s.ajax(r.HOST+"/v1/app/customer/audit",{id:t.id,auditFlag:!1},function(e){0==e.data.errCode&&(r.$message({type:"success",message:r.$t("message.register-15")}),r.getList())})}).catch(function(){})},btnedit:function(e,t){this.visible=!0,this.ruleForm=a()({},t,{zoneId:t.zone.id,id:t.id})},btnsubmitedit:function(e,t,s){var r=this;this.$refs.ruleForm.validate(function(e){if(!e)return!1;r.ajax(r.HOST+"/v1/app/customer/update",{id:r.ruleForm.id,address:r.ruleForm.address,chineseCode:r.ruleForm.chineseCode,contactUser:r.ruleForm.contactUser,deviceDataReceiveUrl:r.ruleForm.deviceDataReceiveUrl,email:r.ruleForm.email,engishCode:r.ruleForm.engishCode,phone:r.ruleForm.phone,platformAccount:r.ruleForm.platformAccount,useHttpsFlag:r.ruleForm.useHttpsFlag,usePlatformApiFlag:r.ruleForm.usePlatformApiFlag,zoneId:r.ruleForm.zoneId},function(e){0==e.data.errCode?(r.$message({message:r.$t("message.devicemanage-6"),type:"success"}),r.getList()):r.$message({message:e.data.msg,type:"warning"}),r.visible=!1},function(e){})})},btndel:function(e,t,s){this.del(this.HOST+"/v1/app/customer/delete",{id:t.id},e,s)},getList:function(){var e=this;e.ajax(e.HOST+"/v1/app/customer/findByConditions",{currentPage:e.currentPage,rows:e.pagesize},function(t){0==t.data.errCode&&(e.tableData=t.data.data,e.total=t.data.totalCount)},function(e){})},getZoneList:function(){var e=this;e.ajax(e.HOST+"/v1/sys/zone/findAll",{currentPage:1,rows:1e3},function(t){0==t.data.errCode&&(e.zoneList=t.data.data)},function(e){})}},mounted:function(){this.getList(),this.getZoneList()}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"shebei"},[s("el-row",[s("el-col",[s("div",{staticStyle:{margin:"10px 10px 0 10px"}},[s("el-table",{staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[s("el-table-column",{attrs:{prop:"chineseCode",label:e.$t("message.register-1"),width:"100",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"engishCode",label:e.$t("message.register-2"),width:"100",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"platformAccount",label:e.$t("message.register-4"),width:"100",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"contactUser",label:e.$t("message.register-5"),width:"80",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",label:e.$t("message.register-6"),align:"center"}}),e._v(" "),s("el-table-column",{attrs:{prop:"email",label:e.$t("message.register-7")}}),e._v(" "),s("el-table-column",{attrs:{prop:"address",label:e.$t("message.register-8"),align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("message.register-9"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.usePlatformApiFlag?s("span",[e._v("\n                "+e._s(e.$t("message.register-19"))+"\n              ")]):s("span",[e._v(e._s(e.$t("message.register-20")))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"deviceDataReceiveUrl",label:e.$t("message.register-10"),width:"250",align:"center"}}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("message.register-11"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.useHttpsFlag?s("span",[e._v("\n                "+e._s(e.$t("message.register-19"))+"\n              ")]):s("span",[e._v(e._s(e.$t("message.register-20")))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"zone",label:e.$t("message.register-12"),width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["cn"===e.lang?s("span",[e._v("\n                "+e._s(t.row.zone&&t.row.zone.chinese)+"\n              ")]):s("span",[e._v(e._s(t.row.zone&&t.row.zone.english))])]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"busiStatus",label:e.$t("message.device-6"),width:"80",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["commit"===t.row.busiStatus?s("span",[e._v("\n                "+e._s(e.$t("message.register-21"))+"\n              ")]):"success"===t.row.busiStatus?s("span",[e._v("\n                "+e._s(e.$t("message.register-13"))+"\n              ")]):s("span",[e._v("\n                "+e._s(e.$t("message.register-14"))+"\n              ")])]}}])}),e._v(" "),s("el-table-column",{attrs:{label:e.$t("message.device-20"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["commit"===t.row.busiStatus?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.btnpassaudit(t.index,t.row)}}},[e._v(e._s(e.$t("message.register-13")))]):e._e(),e._v(" "),"commit"===t.row.busiStatus?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.btnedit(t.index,t.row)}}},[e._v(e._s(e.$t("message.devicetype-2")))]):e._e(),e._v(" "),"commit"===t.row.busiStatus?s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.btnrejectaudit(t.index,t.row)}}},[e._v(e._s(e.$t("message.register-14")))]):e._e(),e._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){e.btndel(t.$index,t.row,e.tableData)}}},[e._v(e._s(e.$t("message.devicetype-3")))])]}}])})],1)],1)])],1),e._v(" "),s("el-dialog",{attrs:{title:e.$t("message.devicetype-2"),visible:e.visible,width:"30%"},on:{"update:visible":function(t){e.visible=t},close:function(t){e.visible=!1}}},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"180px"}},[s("el-form-item",{attrs:{label:e.$t("message.register-1"),prop:"chineseCode"}},[s("el-input",{model:{value:e.ruleForm.chineseCode,callback:function(t){e.$set(e.ruleForm,"chineseCode",t)},expression:"ruleForm.chineseCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-2"),prop:"engishCode"}},[s("el-input",{model:{value:e.ruleForm.engishCode,callback:function(t){e.$set(e.ruleForm,"engishCode",t)},expression:"ruleForm.engishCode"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-4"),prop:"platformAccount"}},[s("el-input",{model:{value:e.ruleForm.platformAccount,callback:function(t){e.$set(e.ruleForm,"platformAccount",t)},expression:"ruleForm.platformAccount"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-5"),prop:"contactUser"}},[s("el-input",{model:{value:e.ruleForm.contactUser,callback:function(t){e.$set(e.ruleForm,"contactUser",t)},expression:"ruleForm.contactUser"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-6"),prop:"phone"}},[s("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-7"),prop:"email"}},[s("el-input",{model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-8"),prop:"address"}},[s("el-input",{model:{value:e.ruleForm.address,callback:function(t){e.$set(e.ruleForm,"address",t)},expression:"ruleForm.address"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-9"),prop:"usePlatformApiFlag"}},[s("el-switch",{model:{value:e.ruleForm.usePlatformApiFlag,callback:function(t){e.$set(e.ruleForm,"usePlatformApiFlag",t)},expression:"ruleForm.usePlatformApiFlag"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-10"),prop:"deviceDataReceiveUrl"}},[s("el-input",{model:{value:e.ruleForm.deviceDataReceiveUrl,callback:function(t){e.$set(e.ruleForm,"deviceDataReceiveUrl",t)},expression:"ruleForm.deviceDataReceiveUrl"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-11"),prop:"useHttpsFlag"}},[s("el-switch",{model:{value:e.ruleForm.useHttpsFlag,callback:function(t){e.$set(e.ruleForm,"useHttpsFlag",t)},expression:"ruleForm.useHttpsFlag"}})],1),e._v(" "),s("el-form-item",{attrs:{label:e.$t("message.register-12"),prop:"zoneId"}},["cn"===e.lang?s("el-select",{attrs:{filterable:""},model:{value:e.ruleForm.zoneId,callback:function(t){e.$set(e.ruleForm,"zoneId",t)},expression:"ruleForm.zoneId"}},e._l(e.zoneList,function(e){return s("el-option",{key:e.id,attrs:{label:e.chinese,value:e.id}})})):s("el-select",{attrs:{filterable:""},model:{value:e.ruleForm.zoneId,callback:function(t){e.$set(e.ruleForm,"zoneId",t)},expression:"ruleForm.zoneId"}},e._l(e.zoneList,function(e){return s("el-option",{key:e.id,attrs:{label:e.english,value:e.id}})}))],1)],1),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("message.devicetype-4")))]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.btnsubmitedit}},[e._v(e._s(e.$t("message.devicetype-8")))])],1)],1)],1)},staticRenderFns:[]};var c=s("VU/8")(o,n,!1,function(e){s("D3kB")},"data-v-735eb734",null);t.default=c.exports}});