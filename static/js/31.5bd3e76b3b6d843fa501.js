webpackJsonp([31],{"0OPg":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={data:function(){return{ruleForm:{address:"",chineseCode:"",contactUser:"",deviceDataReceiveUrl:"",email:"",engishCode:"",phone:"",platformAccount:"",useHttpsFlag:!1,usePlatformApiFlag:!1,zoneId:""},rules:{chineseCode:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-1"),trigger:"change"}],engishCode:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-2"),trigger:"change"}],platformAccount:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-4"),trigger:"change"}],contactUser:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-5"),trigger:"change"}],phone:[{required:!0,pattern:/^1[3|4|5|7|8][0-9]{9}$/,message:this.$t("message.register-18")+this.$t("message.register-6"),trigger:"change"}],url:[{required:!0,message:this.$t("message.register-18")+this.$t("message.register-10"),trigger:"change"}],email:[{required:!1,pattern:/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/,message:this.$t("message.register-22"),trigger:"change"}],zoneId:[{required:!0,message:this.$t("message.historyalarm-0")+this.$t("message.register-12"),trigger:"change"}]},zoneList:[],lang:""}},methods:{submitForm:function(){var e=this;this.$refs.ruleForm.validate(function(r){if(!r)return!1;e.ajax(e.HOST+"/v1/app/customer/register",{address:e.ruleForm.address,chineseCode:e.ruleForm.chineseCode,contactUser:e.ruleForm.contactUser,deviceDataReceiveUrl:e.ruleForm.deviceDataReceiveUrl,email:e.ruleForm.email,engishCode:e.ruleForm.engishCode,phone:e.ruleForm.phone,platformAccount:e.ruleForm.platformAccount,useHttpsFlag:e.ruleForm.useHttpsFlag,usePlatformApiFlag:e.ruleForm.usePlatformApiFlag,zoneId:e.ruleForm.zoneId},function(r){0==r.data.errCode?(e.$message({message:e.$t("message.register-17"),type:"success"}),setTimeout(function(){e.$router.push({path:"/login"})},1e3)):e.$message({message:r.data.msg,type:"warning"})},function(e){})})},backtologin:function(){this.$router.push({path:"/login"})},getZoneList:function(){var e=this;e.ajax(e.HOST+"/v1/sys/zone/findAll",{currentPage:1,rows:1e3},function(r){0==r.data.errCode&&(e.zoneList=r.data.data,localStorage.lang?e.lang=localStorage.lang:e.lang="cn")},function(e){})},keyupSubmit:function(){var e=this;document.onkeydown=function(r){13===window.event.keyCode&&e.submitForm()}}},created:function(){this.keyupSubmit(),this.getZoneList()}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login-wrap"},[t("div",{staticClass:"outdiv"},[t("div",{staticStyle:{width:"85%",margin:"40px auto"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"180px"}},[t("el-form-item",{attrs:{label:e.$t("message.register-1"),prop:"chineseCode"}},[t("el-input",{model:{value:e.ruleForm.chineseCode,callback:function(r){e.$set(e.ruleForm,"chineseCode",r)},expression:"ruleForm.chineseCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-2"),prop:"engishCode"}},[t("el-input",{model:{value:e.ruleForm.engishCode,callback:function(r){e.$set(e.ruleForm,"engishCode",r)},expression:"ruleForm.engishCode"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-4"),prop:"platformAccount"}},[t("el-input",{model:{value:e.ruleForm.platformAccount,callback:function(r){e.$set(e.ruleForm,"platformAccount",r)},expression:"ruleForm.platformAccount"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-5"),prop:"contactUser"}},[t("el-input",{model:{value:e.ruleForm.contactUser,callback:function(r){e.$set(e.ruleForm,"contactUser",r)},expression:"ruleForm.contactUser"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-6"),prop:"phone"}},[t("el-input",{model:{value:e.ruleForm.phone,callback:function(r){e.$set(e.ruleForm,"phone",r)},expression:"ruleForm.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-7"),prop:"email"}},[t("el-input",{model:{value:e.ruleForm.email,callback:function(r){e.$set(e.ruleForm,"email",r)},expression:"ruleForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-8"),prop:"address"}},[t("el-input",{model:{value:e.ruleForm.address,callback:function(r){e.$set(e.ruleForm,"address",r)},expression:"ruleForm.address"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-9"),prop:"usePlatformApiFlag"}},[t("el-switch",{model:{value:e.ruleForm.usePlatformApiFlag,callback:function(r){e.$set(e.ruleForm,"usePlatformApiFlag",r)},expression:"ruleForm.usePlatformApiFlag"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-10"),prop:"deviceDataReceiveUrl"}},[t("el-input",{model:{value:e.ruleForm.deviceDataReceiveUrl,callback:function(r){e.$set(e.ruleForm,"deviceDataReceiveUrl",r)},expression:"ruleForm.deviceDataReceiveUrl"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-11"),prop:"useHttpsFlag"}},[t("el-switch",{model:{value:e.ruleForm.useHttpsFlag,callback:function(r){e.$set(e.ruleForm,"useHttpsFlag",r)},expression:"ruleForm.useHttpsFlag"}})],1),e._v(" "),t("el-form-item",{attrs:{label:e.$t("message.register-12"),prop:"zoneId"}},["cn"===e.lang?t("el-select",{attrs:{filterable:""},model:{value:e.ruleForm.zoneId,callback:function(r){e.$set(e.ruleForm,"zoneId",r)},expression:"ruleForm.zoneId"}},e._l(e.zoneList,function(e){return t("el-option",{key:e.id,attrs:{label:e.chinese,value:e.id}})})):t("el-select",{attrs:{filterable:""},model:{value:e.ruleForm.zoneId,callback:function(r){e.$set(e.ruleForm,"zoneId",r)},expression:"ruleForm.zoneId"}},e._l(e.zoneList,function(e){return t("el-option",{key:e.id,attrs:{label:e.english,value:e.id}})}))],1),e._v(" "),t("div",{staticClass:"login-btn"},[t("el-button",{staticStyle:{background:"#70BF42",color:"#fff","margin-top":"12px"},on:{click:e.submitForm}},[e._v(e._s(e.$t("message.common-register")))])],1),e._v(" "),t("div",{staticClass:"login-btn"},[t("el-button",{staticStyle:{"margin-top":"10px"},on:{click:e.backtologin}},[e._v(e._s(e.$t("message.register-16")))])],1)],1)],1)])])},staticRenderFns:[]};var o=t("VU/8")(s,a,!1,function(e){t("sj9x")},"data-v-0308fe16",null);r.default=o.exports},sj9x:function(e,r){}});